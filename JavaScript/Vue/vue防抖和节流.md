### vue指令

#### 一、钩子函数：

| 函数名           | 说明                                                         |
| ---------------- | ------------------------------------------------------------ |
| bind             | 自定义指令绑定于相应dom时执行（类似于vue生命周期的`beforeMount`） |
| inserted         | 指令所在dom添加到父节点时执行，渲染时（类似于以前的mounted） |
| update           | 指令所在组件的 VNode 更新时调用，不保证该更新和当前指令所在dom有关，可能发生在其子 VNode 更新之前。指令的值可能发生了改变，也可能没有。但是可以通过比较更新前后的值来忽略不必要的模板更新 |
| componentUpdated | 指令所在组件的 VNode 及其子 VNode 全部更新后调用（类似于vue生命周期的updated） |
| unbind           | 只调用一次，指令与元素解绑时调用，类似于beforeDestroy        |

**所有的钩子函数的参数都有以下：**

- el：指令所绑定的元素，可以用来直接操作 DOM
- binding：一个对象，包含以下 property：
  - name：指令名，不包括 v- 前缀。
  - value：指令的绑定值，例如：v-my-directive="1 + 1" 中，绑定值为 2。
  - oldValue：指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。
  - expression：字符串形式的指令表达式。例如 v-my-directive="1 + 1" 中，表达式为 "1 + 1"。
  - arg：传给指令的参数，可选。例如 v-my-directive:foo 中，参数为 "foo"。
  - modifiers：一个包含修饰符的对象。例如：v-my-directive.foo.bar 中，修饰符对象为 { foo: true, bar: true }
- vnode：Vue 编译生成的虚拟节点
- oldVnode：上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用
  



#### 二、防抖节流

防抖：

> 频繁触发事件，只有最后一次生效，每次触发事件时开启定时器，定时器结束前再触发事件则重置定时器，定时器结束后触发事件
>
> 比如游戏回城，频繁点击回城则只触发最后一次
>
> - 短信验证码
> - 提交表单
> - resize 事件
> - input 事件（当然也可以用节流，实现实时关键字查找）



节流

> 频繁触发事件，只有第一次生效，单位时间内其他请求不生效
>
> 比如游戏技能冷却，触发以后进入冷却无法点击
>
> - scroll 事件，单位时间后计算一次滚动位置
> - input 事件（上面提到过）
> - 播放事件，计算进度条

```js

```

